<!DOCTYPE html>
<html>
<head>
  <title>Questionnaire</title>
  <link rel="stylesheet" href="styles.css">
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap');

body {
  background: #b9b3a9;
  display: flex;
  justify-content: center;
}

.container-quiz {
  width: 450px;
  padding: 20px;
  margin-top: 80px;
  background-color: #f7f3f2;
  border-color: black;
  border-style: outset;
  box-shadow: 0 5px 5px rgba(0, 0, 0, 0.1);
  border-radius: 20px;
  font-family: 'Poppins', sans-serif;
  margin-bottom: 40px;
}

.container-quiz h1 {
  text-align: center;
}

.questions-container {
  margin-bottom: 20px;
}

.question {
  font-weight: bold;
  margin-bottom: 10px;
}

.options {
  margin-bottom: 20px;
}

.option {
  display: block;
  margin-bottom: 10px;
}

.button {
  display: inline-block;
  padding: 10px 20px;
  background-color: #428bca;
  color: #fff;
  border: none;
  cursor: pointer;
  font-size: 16px;
  border-radius: 4px;
  transition: background-color 0.3s;
  margin-right: 10px;
}

.button:hover {
  background-color: #3071a9;
}

.result {
  text-align: center;
  margin-top: 20px;
  font-weight: bold;
}

.hide{
  display: none;
}

.textField {
  width: 220px; /* Adjust the width to your preference */
}

li{
    list-style: none;
}

ul {
    text-align: right;
    padding-left: 250px;
    
}

ul a {
    text-decoration: none;
    color: black;
}
</style>
<body>
  <div class="container-quiz">
    <h1>Characteristic pain intensity </h1>
    <h4 id="title3">** Rate your pain on a scale of 0 to 10 where, 0 is “no pain” and 10 is “pain as bad as could be” **</h4>
    <div id="quiz" class="questions-container"></div>
    <div id="result" class="result"></div>
    <button id="submit" class="button">Submit</button>
    <button id="retry" class="button hide">Retry</button>
    <ul>
        <li><a href="index.html">1st Questionnaire</a></li>
        <li></li><a href="index2.html">2nd Questionnaire</a></li>
    </ul>
  </div>

<!-- Replace the existing script tag with this modified script -->
<script>
  const quizData = [
    {
      question: 'How would you rate your mouth and or face pain AT THE PRESENT TIME, that is right now',
    },
    {
      question: 'In the PAST MONTH, how intense was your WORST mouth and or face pain?',
    },
    {
      question: 'In the PAST MONTH, on AVERAGE, how intense was your mouth and or face pain?  (That is, your usual pain at times you were experiencing pain.) ',
    },
  ];

  const quizContainer = document.getElementById('quiz');
  const resultContainer = document.getElementById('result');
  const submitButton = document.getElementById('submit');
  const retryButton = document.getElementById('retry');
  const title3 = document.getElementById('title3');

  let userResponses = new Array(quizData.length).fill(null);
  let incorrectAnswers = [];

  function displayQuestions() {
  quizData.forEach((questionData, index) => {
    const questionElement = document.createElement('div');
    questionElement.className = 'question';
    questionElement.innerHTML = questionData.question;

    const optionsElement = document.createElement('div');
    optionsElement.className = 'options';

    const textField = document.createElement('input');
    textField.type = 'number';
    textField.min = '0';
    textField.max = '10';
    textField.placeholder = 'Enter a number between 0 and 10';
    
    const warningMessage = document.createElement('div');
    warningMessage.className = 'warning';
    warningMessage.style.color = 'red'; // Customize the warning message color

    textField.addEventListener('input', (event) => {
      const enteredValue = parseInt(event.target.value);

      // Validate if entered value is within the specified range
      if (enteredValue >= 0 && enteredValue <= 10) {
        userResponses[index] = enteredValue;
        warningMessage.innerHTML = ''; // Clear the warning message if the input is valid
      } else {
        // Display a warning message to the user for invalid input
        warningMessage.innerHTML = 'Please enter a number between 0 and 10';
        userResponses[index] = null; // Mark the response as null for invalid input
      }
    });

    // Add the textField class to the textField element
    textField.className = 'textField';

    optionsElement.appendChild(textField);
    optionsElement.appendChild(warningMessage);
    quizContainer.appendChild(questionElement);
    quizContainer.appendChild(optionsElement);
  });
}


  function checkAnswers() {
    if (userResponses.every((response) => response !== null)) {
      const sum = userResponses.reduce((acc, response) => acc + parseInt(response), 0);
      const percentage = (sum * 10) / quizData.length;
      displayResult(percentage);
    }
  }

  function displayResult(percentage) {
    quizContainer.style.display = 'none';
    submitButton.style.display = 'none';
    title3.style.display = 'none';
    retryButton.style.display = 'inline-block';

    resultContainer.innerHTML = `<span style="color: black;">Your characteristic pain intensity score is ${percentage.toFixed(2)}% out of 100 </span>`;
  }

  function retryQuiz() {
    userResponses = new Array(quizData.length).fill(null);
    incorrectAnswers = [];
    quizContainer.innerHTML = '';
    quizContainer.style.display = 'block';
    submitButton.style.display = 'inline-block';
    retryButton.style.display = 'none';
    title3.style.display = '';
    resultContainer.innerHTML = '';
    displayQuestions();
  }

  submitButton.addEventListener('click', checkAnswers);
  retryButton.addEventListener('click', retryQuiz);

  displayQuestions(); // Call the function to display questions when the page loads
</script>


</body>
</html>
